[providers.node]
  nodeVersion = "24"

[providers.java]
  version = "17"

[phases.setup]
  nixPkgs = ["...", "maven", "jdk17"]

[phases.build]
  cmds = [
    "npm install",
    "npm run build:frontend",
    "cd spring-backend && mvn clean package -DskipTests"
  ]

[start]
  cmd = "java -jar spring-backend/target/*.jar"
